/* JFast v2.0.2 | (c) by jl15988 | final date 2020-10-23 */ 
!(function(j) {"use strict";var jt = function(e, t) {return new jt.n.init(e, t);};jt.n = jt.prototype = {constructor: jt,version: "2.0.2",typeAll: function(index) {return jt.typeAll(this, index);},typeArray: function() {return jt.typeArray(this);},inputRegAlert: function(iden, alertInfo) {return jt.inputRegAlert(this, iden, alertInfo);},inputAlert: function(condition, alertInfo) {return jt.inputAlert(this, condition, alertInfo);},checkInputValueAlert: function(value, alertInfo) {return jt.checkInputValueAlert(this, value, alertInfo);},getElemMatrixArray: function() {return jt.getElemMatrixArray(this);},getElemMarginArr: function() {return jt.getElemMarginArr(this);},getElemDeviation: function() {return jt.getElemDeviation(this);},mouseBlockMove: function() {return jt.mouseBlockMove(this);},PreviewPhoto: function(preimg, scale) {return jt.PreviewPhoto(this, preimg, scale);}};jt.e = jt.n.e = function(objs) {for (let key in objs) {this[key] = objs[key];}};jt.e({typeAll: function(objs, index) {try {let types = typeof objs;if (objs.length > 1) {objs = objs[0];}if (types == "object") {let objtypes = Object.prototype.toString.call(objs).toLowerCase();if (objtypes == "[object array]") {if (this.typeAll(objs[0]) == "json") {return "array-json";} else {return "array";}}if (objtypes == "[object object]" && !objs.length) {return "json";}if (objtypes.indexOf("object") != -1 && objtypes.indexOf("element") != -1 && objtypes.indexOf("html") != -1) {index = !index ? 0 : --index;var objElem = objs[index];if (!objElem && index >= 0) {return objs.tagName.toLowerCase();} else {return objElem.tagName.toLowerCase();}}switch (objtypes) {case "[object regexp]":return "regExp";}return objtypes;} else {return types;}} catch (err) {return objs;}},typeArray: function(objs) {try {if (typeof objs == "object") {let objtypes = Object.prototype.toString.call(objs).toLowerCase();if (objtypes.indexOf("object") && objtypes.indexOf("element") && objtypes.indexOf("html")) {var typearr = [];for (let i = 0, len = objs.length; i < len; i++) {typearr.push(objs[i].tagName.toLowerCase());}return typearr;}}return typearr;} catch (err) {return objs;}},getStringPair: function(str) {var obj = {};try {var kvarr = str.match(/(\'|\")?[^\'\"\,]+(\'|\"\,)?(\=|\:)(\'|\"){1}[^\'\"\,]+(\'|\"){1}/g);return kvarr.map(function(item) {let iarr = item.replace(/\'|\"/g, "");iarr = iarr.split(":");let len = iarr.length - 1;obj[iarr[len - 1]] = iarr[len];return obj;})[0];} catch (err) {return obj;}},inputRegAlert: function(sor, iden, alertInfo) {if (!sor.length) {sor = $(sor);};if (!alertInfo) {alertInfo = "<span class='inputalertinfo'>格式错误</span>";} else {alertInfo = "<span class='inputalertinfo'>" + alertInfo + "</span>";};let val = sor.val();if (val == "") {return false;}if (!jt.testReg(val, iden)) {if (sor.next() && sor.next().attr("class") != "inputalertinfo") {sor.after(alertInfo);}return false;} else {if (sor.next() && sor.next().attr("class") == "inputalertinfo") {sor.next().remove();}return true;}},inputAlert: function(sor, condition, alertInfo) {if (!sor.length) {sor = $(sor);};if (!alertInfo) {alertInfo = "<span class='inputalertinfo'>格式错误</span>";} else {alertInfo = "<span class='inputalertinfo'>" + alertInfo + "</span>";};if (!condition) {if (sor.next() && sor.next().attr("class") != "inputalertinfo") {sor.after(alertInfo);}} else {if (sor.next() && sor.next().attr("class") == "inputalertinfo") {sor.next().remove();}}},checkInputValueAlert: function(sor, value, alertInfo) {var res;if (!sor.length) {sor = $(sor);};if (!alertInfo) {alertInfo = "<span class='inputalertinfo'>两个值不同</span>";} else {alertInfo = "<span class='inputalertinfo'>" + alertInfo + "</span>";};const val = sor.val();if (val != value) {if (sor.next() && sor.next().attr("class") != "inputalertinfo") {sor.after(alertInfo);};return false;} else {if (sor.next() && sor.next().attr("class") == "inputalertinfo") {sor.next().remove();};return true;}},testReg: function(str, iden) {var idenType = jt.typeAll(iden);if (idenType == "regExp") {iden = iden;} else if (idenType == "string") {switch (iden) {case "phone":iden = /^1[34578]\d{9}$/;break;case "name":iden = /^[\u4E00-\u9FA5]{1,6}$/;break;case "ID":iden = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;break;case "username":iden = /^[a-zA-Z0-9_-]{4,16}$/;break;case "password":iden = /^(_|\w+|\d+){6,15}$/;break;case "passwordStrong":iden = /^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/;break;case "email":iden = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;break;}}try {return iden.test(str);} catch (err) {return false;}},moveArrayItem: function(arr, iden, place) {const type = typeof iden;if (!(type === "number" || type === "string" || type === "object")) {throw new Error("parameter type error");};arr.forEach((item, index) => {if (index == iden) {arr.splice(index, 1);arr.unshift()}})},repx: function(str) {return parseFloat(str.replace("px", "").trim());},stringRepxNum: function(str) {return str != null ? parseFloat(str.match(/\-?\d+(\.\d+)?/)[0]) : 0;},getStringNumArray: function(str) {return str.match(/\-?\d+(\.\d+)?/g);},getElemMatrixArray: function(sor) {try {var matrix = sor.css("transform");return this.getStringNumArray(matrix);} catch (err) {throw new Error(err);}},getElemMarginArr: function(sor) {var narr = ['', '', '', ''];var minit = sor.css("margin");var marr = minit.replace(/ /g, "").split("px");marr.forEach(function(item, index) {item != "" ? (marr[index] = parseFloat(item)) : marr.splice(index, 1);});switch (marr.length) {case 1:return narr.map(function(item) {return marr[0];});case 2:return narr.map(function(item, index) {return index <= 1 ? marr[0] : marr[1];});case 3:return narr.map(function(item, index) {return index == 3 ? marr[1] : marr[index];});}return marr;},getElemDeviation: function(sor) {var matrixArr = this.getElemMatrixArray(sor);var marr = this.getElemMarginArr(sor);var tX = 0,tY = 0;if (matrixArr != null) {tX = matrixArr[4];tY = matrixArr[5];}return {devTop: marr[0] + tY,devLeft: marr[3] + tX};},mouseBlockMove: function(sor) {var f_head = sor.find(".f_head");var psor = sor;if (f_head.length == 1) {sor = f_head;}try {var devTop = this.getElemDeviation(psor).devTop;var devLeft = this.getElemDeviation(psor).devLeft;sor.css({"cursor": "move"});psor.css({"position": "fixed"});sor.mousedown(function(e) {e.preventDefault();let oX = e.clientX - psor[0].offsetLeft;let oY = e.clientY - psor[0].offsetTop;$(document).mousemove(function(e) {e.preventDefault();let cX = e.clientX;let cY = e.clientY;cY = cY <= 0 ? 0 : cY;cX = cX <= 0 ? 0 : cX;psor.css({"top": cY - oY - devTop,"left": cX - oX - devLeft});});sor.mouseup(function() {$(document).off("mousemove");sor.off("mouseup");});});return psor != sor ? {psor: psor,sor: sor} : sor;} catch (err) {throw new Error(err);}},PreviewPhoto: function(sor, preimg, scale) {var pb = $(".f_preview");var slider = $(".f_slider");if (pb.length == 0) {throw new Error("no block class is 'f_preview'");};if (slider.length == 0) {throw new Error("no block class is 'f_slider'");};if (!preimg) {throw new Error("preimg is null");};if (!scale || scale < 1.5 || scale > 5) {scale = 2;};var repx = function(str) {return jt.repx(str)};var s = scale * 100;var w = sor.css("width");var h = sor.css("height");var bw = pb.css("box-sizing") == "border-box" ? repx(pb.css("border")) : 0;s = (s * repx(w) + scale * bw * 2 * 100) / repx(w);var zw = repx(w) / scale;var zh = repx(h) / scale;slider.css({"width": zw,"height": zh,"cursor": "move"});pb.css({"position": "absolute"});sor.css({"position": "relative"});sor.hover(function() {$(".f_preview").css("display", "block");$(".f_slider").css("display", "block");}, function() {$(".f_preview").css("display", "none");$(".f_slider").css({"display": "none"});});sor.mouseover(function() {$(document).mousemove(function(e) {e.preventDefault();var x = e.clientX - sor[0].offsetLeft - zw / 2;var y = e.clientY - sor[0].offsetTop - zh / 2;var sw = sor.css("box-sizing") == "border-box" ? repx(pb.css("border")) * 2 : 0;if (x <= 0) {x = 0;} else if (x >= zw * (scale - 1) - sw) {x = zw * (scale - 1) - sw;}if (y <= 0) {y = 0;} else if (y >= zh * (scale - 1) - sw) {y = zh * (scale - 1) - sw;}$(".f_slider").css({"position": "absolute","top": y,"left": x});var p = "-" + (x * scale) + "px -" + (y * scale) + "px";pb.css({"background": "url(" + preimg + ") " + p + "/" + s + "% " + s + "% no-repeat"});});sor.mouseout(function() {$(document).off("mousemove");});});}});var init = jt.n.init = function(e, t) {};try {jt.n.init = $.fn.init;$.fn = Object.assign($.fn, jt.n);} catch (err) {console.warn("No JQuery file was introduced");} finally {j.jf = jt;};})(window)